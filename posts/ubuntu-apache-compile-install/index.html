<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
        <meta
        content="text/html; charset=utf-8" http-equiv="content-type"/> <!-- Enable responsiveness on mobile devices-->
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport"/>
        <title>
            
    Henry - Ubuntu 18.04에서 Apache HTTP 컴파일 후 설치하기

        </title>
        <link href="https:&#x2F;&#x2F;handongchoi.com&#x2F;favicon.ico" rel="icon" type="image/x-icon"/>
        
            <link rel="alternate" type= "application/atom+xml"  title="RSS" href="https://handongchoi.com/atom.xml"/>
        
        
        
    <meta content="website" property="og:type"/>
    <meta content="Henry" property="og:site_name"/>
    <meta content="https://handongchoi.com/posts/ubuntu-apache-compile-install/" property="og:url"/>
    <meta content="https://handongchoi.com/posts/ubuntu-apache-compile-install/" property="twitter:url"/>
    
        <meta content="Ubuntu 18.04에서 Apache HTTP 컴파일 후 설치하기" property="og:title"/>
        <meta content="Ubuntu 18.04에서 Apache HTTP 컴파일 후 설치하기" property="twitter:title"/>
    
    
        <meta content="Apache HTTP를 수동 설치해 본 적 있으세요? 생각보다 어렵지 않습니다." property="description"/>
        <meta content="Apache HTTP를 수동 설치해 본 적 있으세요? 생각보다 어렵지 않습니다." property="og:description"/>
        <meta content="Apache HTTP를 수동 설치해 본 적 있으세요? 생각보다 어렵지 않습니다." property="twitter:description"/>
    
    
        <meta content="summary_large_image" property="twitter:card"/>
        <meta content="https://handongchoi.com/images/cover.png" property="og:image"/>
        <meta content="https://handongchoi.com/images/cover.png" property="twitter:image"/>
    

        
        
            <script src="https:&#x2F;&#x2F;handongchoi.com&#x2F;slideout.min.js" type="text/javascript"></script>
            
        
        
            <link href="https:&#x2F;&#x2F;handongchoi.com&#x2F;site.css" rel="stylesheet"/>
            <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet"/>
            <link charset="utf-8" href="https://indestructibletype.com/fonts/Jost.css" rel="stylesheet" type="text/css"/>
            
        
        
        <script type="text/javascript" src="https://t.mentioned.app/track/track.js" id="mentioned-by-script" token="KwwcsfsfMdFtGdn9Gp0Q2sxAdHc0sKrblbYkTQpfr3mZ6-rFpDorr0FL1nRcrXJ1WUE" host="handongchoi.com"></script>
    </head>
    <body>
        <script>
            (function initTheme() {
                let body = document.getElementsByTagName("body")[0];
                if (window.localStorage.getItem("theme") !== null) {
                    if (window.localStorage.getItem("theme") === "dark") {
                        body.setAttribute("data-theme", "dark");
                    } else {
                        body.setAttribute("data-theme", "light");
                    }
                } else {
                    if (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) {
                        body.setAttribute("data-theme", "dark");
                    }
                }
            })();
        </script>
        <div class="container">
            <div class="mobile-navbar" id="mobile-navbar">
                <div class="mobile-header-logo">
                    <a class="logo" href="https:&#x2F;&#x2F;handongchoi.com">Henry</a>
                </div>
                <div class="mobile-navbar-icon icon-out">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <nav class="mobile-menu slideout-menu slideout-menu-left" id="mobile-menu">
                <ul class="mobile-menu-list">
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;handongchoi.com">
                                Home
                            </a>
                        </li>
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;categories">
                                Categories
                            </a>
                        </li>
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;tags">
                                Tags
                            </a>
                        </li>
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;about">
                                About
                            </a>
                        </li>
                    
                    <li class="mobile-menu-item">
                        <div class="theme-switcher">
                            
    <div class="theme-button" onClick="toggleTheme()">
        <label for="cb1">
            <svg
                id="dayIcon"
                style="enable-background:new 0 0 35 35;"
                version="1.1"
                viewBox="0 0 35 35"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <g id="Sun">
                    <g>
                        <path
                            d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5 S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z
                                M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5
                                C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6
                                C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9
                                c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44
                                l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5
                                c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06 L6.439,8.561z
                                M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z
                                M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2
                                C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29
                                c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7
                                C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5
                                c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"
                            style="fill-rule:evenodd;clip-rule:evenodd;"/>
                    </g>
                </g>
            </svg>
        </label>
        <input class="toggle" id="cb1" onClick="toggleTheme()" type="checkbox"/>
        <label class="toggle-button" for="cb1"></label>
        <label for="cb1">
            <svg
                enable-background="new 0 0 100 100"
                id="nightIcon"
                version="1.1"
                viewBox="0 0 100 100"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571
                C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23
                c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369
                c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65 c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"/>
            </svg>
        </label>
    </div>

                        </div>
                    </li>
                </ul>
            </nav>
            
                
    <header id="header">
        <div class="logo">
            <a href="https:&#x2F;&#x2F;handongchoi.com">Henry</a>
        </div>
        
    <nav class="menu">
        <ul>
            
                <li>
                    <a href="https:&#x2F;&#x2F;handongchoi.com">
                        Home
                    </a>
                </li>
            
                <li>
                    <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;categories">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;tags">
                        Tags
                    </a>
                </li>
            
                <li>
                    <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;about">
                        About
                    </a>
                </li>
            
            <div class="theme-switcher">
                
    <div class="theme-button" onClick="toggleTheme()">
        <label for="cb1">
            <svg
                id="dayIcon"
                style="enable-background:new 0 0 35 35;"
                version="1.1"
                viewBox="0 0 35 35"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <g id="Sun">
                    <g>
                        <path
                            d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5 S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z
                                M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5
                                C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6
                                C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9
                                c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44
                                l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5
                                c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06 L6.439,8.561z
                                M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z
                                M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2
                                C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29
                                c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7
                                C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5
                                c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"
                            style="fill-rule:evenodd;clip-rule:evenodd;"/>
                    </g>
                </g>
            </svg>
        </label>
        <input class="toggle" id="cb1" onClick="toggleTheme()" type="checkbox"/>
        <label class="toggle-button" for="cb1"></label>
        <label for="cb1">
            <svg
                enable-background="new 0 0 100 100"
                id="nightIcon"
                version="1.1"
                viewBox="0 0 100 100"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571
                C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23
                c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369
                c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65 c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"/>
            </svg>
        </label>
    </div>

            </div>
        </ul>
    </nav>

    </header>

            
            <main>
                <div class="content" id="mobile-panel"> 
    
    <article class="post">
        
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;posts&#x2F;ubuntu-apache-compile-install&#x2F;">Ubuntu 18.04에서 Apache HTTP 컴파일 후 설치하기</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2020-02-01</span>
            
                <div class="post__category">
                    
                        <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;categories&#x2F;infra&#x2F;">Infra</a>
                    
                </div>
            
        </div>
    </header>

        <div class="post-content">
            <p>가장 쉽게 접할 수 있는 웹 애플리케이션 중에 Apache HTTP를 직접 설치해 볼게요. 저는 AWS EC2 환경에서 작업했지만, 지속적인 배포 환경 또는 로컬에서도 가능합니다. Ubuntu 18.04.3 LTS에서 설치했습니다.</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">$ sudo apt-get update
$ sudo apt-get install build-essential
$ sudo apt-get install libexpat1-dev libnghttp2-dev libxml2-dev
</span></code></pre>
<p>먼저 컴파일에 필요한 패키지부터 설치합니다.</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">$ mkdir apache_server
$ cd apache_server
$ wget http://mirror.navercorp.com/apache//apr/apr-1.7.0.tar.gz
$ wget http://mirror.navercorp.com/apache//apr/apr-util-1.6.1.tar.gz
$ wget https://ftp.pcre.org/pub/pcre/pcre-8.43.tar.gz
$ wget http://mirror.apache-kr.org//httpd/httpd-2.4.41.tar.gz
$ tar -xzf apr-1.7.0.tar.gz
$ tar -xzf apr-util-1.6.1.tar.gz
$ tar -xzf pcre-8.43.tar.gz
$ tar -xzf httpd-2.4.41.tar.gz
</span></code></pre>
<p>설치 진행을 위한 디렉터리를 만들고, 설치 파일을 다운 받아 압축을 풉니다.</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">$ mv apr-1.7.0 ./httpd-2.4.41/srclib/apr
$ mv apr-util-1.6.1 ./httpd-2.4.41/srclib/apr-util
$ cd pcre-8.43/
$ ./configure
$ make
$ sudo make install
</span></code></pre>
<p>APR과 APR 라이브러리를 컴파일 디렉터리 내부로 옮기고, PCRE를 시스템에 설치합니다.</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">$ cd ~/apache_server/httpd-2.4.41/
$ ./configure --prefix=/usr/local/src/apache --with-included-apr --with-included-apr-util --with-included-pcre
$ make -j4
$ sudo make install
$ cp /usr/local/src/apache/bin/apachectl /etc/init.d/httpd
</span></code></pre>
<p>컴파일 과정입니다. configure의 prefix 옵션 (시스템 내 설치 위치)은 수정 가능합니다. make 작업을 빠르게 하기 위해 -j 옵션을 줬습니다. 마지막으로, 시스템 부팅 시 HTTP 데몬을 시작하도록 만들었습니다.</p>
<p>여기까지 설치는 마무리가 됐습니다. 서버에 대한 기본 설정은 아래 파일을 수정하면 됩니다. Apache 웹 서버는 포트, 서버 이름, 모듈 추가/삭제, 로그, 서버 디렉터리 등 다양하게 수정이 가능하니 자세한 내용은 Ubuntu 공식 문서를 참고하세요.</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">$ sudo vi /usr/local/src/apache/conf/httpd.conf
</span></code></pre>
<p>아무것도 설정하지 않고 서버를 시작하면 ServerName이 등록되어 있지 않아 경고 메시지가 나옵니다. 당장 문제는 없지만 127.0.0.1를 사용하지 않거나, 타 프로그램과의 충돌을 방지하기 위해 따로 설정하는 게 좋습니다. 설정을 다 했으면 아래처럼 시작/재시작/정지 명령어를 사용할 수 있습니다.</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">$ sudo /etc/init.d/httpd start
$ sudo /etc/init.d/httpd restart
$ sudo /etc/init.d/httpd stop
</span></code></pre>
<p>정상적으로 실행되었으면 아래 화면 처럼 나올 겁니다.</p>
<p style="text-align:center;">
    <img src="success.png" width="80%">
</p>
<p>저는 실행하기 전에 8080 포트로 수정했습니다.
이제 Tomcat 연동, 시스템 서비스 등록, 로드 밸런싱 설정, DB 추가, API 작성, Cordova 프레임워크 등 필요에 따라, 마음대로 확장이 가능합니다! :)</p>
<p>뭐든지 수동 설치는 까다롭습니다. 보통 처음에 설치 과정이 제일 어렵다고 하는데, 제대로 알지 못하고 넘어가면 나중에 개발할 때 정말 고생하게 됩니다. 게다가 요즘에는 패키지 관리자를 자주 사용해서 이걸 직접 손으로 치기 쉽지 않습니다. 모든 걸 알 필요는 없습니다. 하지만, 최소한 원리는 알고 넘어갑시다.</p>

        </div>
        
        <!-- <div
            class="end-post">
        </div> -->
        <div class="post-footer">
            
                
                    <div class="post-tags">
                        
                            <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;tags&#x2F;ubuntu&#x2F;">
                                <span class="hashtag">#</span>
                                ubuntu</a>
                        
                            <a href="https:&#x2F;&#x2F;handongchoi.com&#x2F;tags&#x2F;apache&#x2F;">
                                <span class="hashtag">#</span>
                                apache</a>
                        
                    </div>
                
                
                    <div class="post-nav">
                        
                        
                            <a class="next" href="https:&#x2F;&#x2F;handongchoi.com&#x2F;posts&#x2F;aws-to-gcp&#x2F;">AWS? 이제는 GCP! ›</a>
                        
                        
                        
                    </div>
                
                <!-- 
    
 -->
                <script src="https://utteranc.es/client.js"
                        repo="henrychoi7/henrychoi7.github.io"
                        issue-term="pathname"
                        label="💬comment"
                        theme="github-light"
                        crossorigin="anonymous"
                        async>
                </script>
            
        </div>
        
    </article>

                    
    <footer>
        <div class="social_links">
            
                <a href="https:&#x2F;&#x2F;twitter.com&#x2F;h3nrychoi">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
                </a>
            
            
                <a href="https:&#x2F;&#x2F;github.com&#x2F;henrychoi7">
                    <svg
                        class="feather feather-github"
                        fill="none"
                        height="24"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        width="24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7
                            0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                </a>
            
            
            
        </div>
        <div class="theme_info">
            <div class="copyright">
                &#169;<script>
                    document.write(new Date().getFullYear());
                </script>
                Handong Choi
            </div>
            <!-- <div class="made-with">
                Made with
                <a href="https://www.getzola.org/" rel="noopener noreferrer" target="_blank">Zola</a>,
                <a href="https://github.com/xypnox/blag/tree/master/themes/xyblag" rel="noopener noreferrer" target="_blank">Theme</a>
                by
                <a href="https://www.xypnox.com/" rel="noopener noreferrer" target="_blank">xypnox</a>.
            </div> -->
        </div>
    </footer>

                </div>
            </main>
        </div>
        
            <script src="https:&#x2F;&#x2F;handongchoi.com&#x2F;main.js" type="text/javascript"></script>
        
    </body>
</html>